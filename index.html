<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scroll Horizontal com Borboleta e Parallax</title>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      overflow-x: hidden;
      font-family: 'Arial', sans-serif;
      color: white;
    }

    /* Novo background com efeito parallax */
    .background {
      position: fixed;
      top: 0;
      left: 0;
      width: 300vw;
      height: 100vh;
      background: url('https://images.unsplash.com/photo-1534447677768-be436bb09401?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=3000&q=80') center/cover;
      z-index: -2;
      background-image: url('https://i.pinimg.com/736x/a4/83/8d/a4838d502d6ac8e68a412d920116fd0b.jpg');
      transition: transform 0.5s ease;
    }

    .container {
      display: flex;
      width: 300vw;
      height: 100vh;
      transition: transform 0.5s ease;
    }

    .section {
      width: 100vw;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
      position: relative;
      backdrop-filter: blur(2px);
    }

    .content {
      display: flex;
      max-width: 1200px;
      gap: 50px;
      align-items: center;
      z-index: 2;
      background-color: rgba(0, 0, 0, 0.5);
      padding: 40px;
      border-radius: 15px;
      box-shadow: 0 0 30px rgba(0, 0, 0, 0.7);
    }

    .text {
      flex: 1;
      color: rgba(255, 255, 255, 0.9);
    }

    .image {
      flex: 1;
    }

    .image img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0, 0, 0, 0.5);
      transition: transform 0.3s ease;
    }

    .image img:hover {
      transform: scale(1.03);
    }

    h1 {
      font-size: 2.5rem;
      margin-bottom: 20px;
      color: rgba(255, 255, 255, 0.9);
      text-shadow: 0 0 10px rgba(79, 195, 247, 0.5);
    }

    p {
      font-size: 1.2rem;
      line-height: 1.6;
      color: rgba(255, 255, 255, 0.7);
    }

    /* Indicadores de seção */
    .indicators {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      display: flex;
      gap: 10px;
      z-index: 100;
    }

    .indicator {
      width: 12px;
      height: 12px;
      border-radius: 50%;
      background-color: rgba(255, 255, 255, 0.3);
      cursor: pointer;
      transition: all 0.3s;
    }

    .indicator.active {
      background-color: rgba(79, 195, 247, 0.8);
      transform: scale(1.3);
    }

    /* Borboleta */
    .butterfly-container {
      position: fixed;
      width: 500px;
      height: 500px;
      pointer-events: none;
      z-index: 1;
      transition: all 1s ease-out;
      filter: 
        drop-shadow(0 0 15px rgba(79, 195, 247, 0.8))
        drop-shadow(0 0 30px rgba(79, 195, 247, 0.5));
      animation: 
        float 8s ease-in-out infinite,
        gentlePulse 3s ease-in-out infinite;
    }

    .butterfly {
      width: 100%;
      height: 100%;
      background-image: url('https://gifdb.com/images/high/blue-monarch-butterfly-sticker-qm1j6342t084dtbg.gif');
      background-size: contain;
      background-repeat: no-repeat;
      background-position: center;
      transform-style: preserve-3d;
      animation: flap 0.5s ease-in-out infinite;
    }

    /* Partículas */
    .particle {
      position: fixed;
      background: radial-gradient(circle, rgba(79, 195, 247, 0.8) 0%, transparent 70%);
      border-radius: 50%;
      filter: blur(1px);
      animation: floatParticle linear infinite;
      z-index: -1;
    }

    /* Animações */
    @keyframes float {
      0%, 100% { transform: rotateX(5deg) rotateY(0) rotateZ(0); }
      25% { transform: rotateX(8deg) rotateY(5deg) rotateZ(2deg); }
      50% { transform: rotateX(5deg) rotateY(0) rotateZ(-1deg); }
      75% { transform: rotateX(7deg) rotateY(-3deg) rotateZ(1deg); }
    }

    @keyframes flap {
      0%, 100% { transform: scale(1) rotate(0deg); }
      50% { transform: scale(0.95, 1.05) rotate(0.5deg); }
    }

    @keyframes gentlePulse {
      0%, 100% { opacity: 0.95; }
      50% { opacity: 1; }
    }

    @keyframes floatParticle {
      to { 
        transform: translateY(-100vh) translateX(calc(var(--random-x) * 100px));
        opacity: 0;
      }
    }
  </style>
</head>
<body>
  <!-- Background com parallax -->
  <div class="background" id="background"></div>
  
  <!-- Borboleta -->
  <div class="butterfly-container" id="butterfly">
    <div class="butterfly"></div>
  </div>

  <!-- Partículas -->
  <div id="particles-container"></div>

  <!-- Conteúdo principal -->
  <div class="container" id="container">
    <section class="section" id="section1">
      <div class="content">
        <div class="text">
          <h1>Borboleta Monarca Azul</h1>
          <p>Esta é a primeira seção com o novo background e efeito parallax. Observe como a borboleta e as partículas criam um efeito mágico sobre a imagem de fundo.</p>
        </div>
        <div class="image">
          <img src="https://source.unsplash.com/random/600x400?butterfly" alt="Borboleta">
        </div>
      </div>
    </section>
    <section class="section" id="section2">
      <div class="content">
        <div class="text">
          <h1>Efeito Parallax</h1>
          <p>Enquanto você navega, o background se move em velocidade diferente criando um belo efeito de profundidade. As partículas continuam brilhando e a borboleta voa suavemente.</p>
        </div>
        <div class="image">
          <img src="https://source.unsplash.com/random/600x400?nature" alt="Natureza">
        </div>
      </div>
    </section>
    <section class="section" id="section3">
      <div class="content">
        <div class="text">
          <h1>Experiência Imersiva</h1>
          <p>A combinação do parallax, partículas brilhantes e a borboleta animada cria uma experiência visual impressionante e memorável.</p>
        </div>
        <div class="image">
          <img src="https://source.unsplash.com/random/600x400?garden" alt="Jardim">
        </div>
      </div>
    </section>
  </div>

  <div class="indicators">
    <div class="indicator active" data-section="0"></div>
    <div class="indicator" data-section="1"></div>
    <div class="indicator" data-section="2"></div>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const container = document.getElementById('container');
      const background = document.getElementById('background');
      const sections = document.querySelectorAll('.section');
      const indicators = document.querySelectorAll('.indicator');
      const butterfly = document.getElementById('butterfly');
      const particlesContainer = document.getElementById('particles-container');
      let currentSection = 0;
      let isScrolling = false;
      let startX = 0;
      let scrollTimeout;

      // Posições da borboleta para cada seção
      const butterflyPositions = [
        { x: '20%', y: '30%', scale: 1.2 },
        { x: '50%', y: '50%', scale: 1.5 },
        { x: '80%', y: '40%', scale: 1.3 }
      ];

      // Fator de parallax (ajuste para mudar a intensidade)
      const parallaxFactor = 0.3;

      // Configura o wheel event para scroll horizontal
      window.addEventListener('wheel', function(e) {
        if (isScrolling) return;
        
        e.preventDefault();
        
        if (e.deltaY > 0 && currentSection < sections.length - 1) {
          goToSection(currentSection + 1);
        } else if (e.deltaY < 0 && currentSection > 0) {
          goToSection(currentSection - 1);
        }
      }, { passive: false });

      // Suporte para touch devices
      container.addEventListener('touchstart', function(e) {
        startX = e.touches[0].clientX;
      }, { passive: true });

      container.addEventListener('touchmove', function(e) {
        if (isScrolling) {
          e.preventDefault();
          return;
        }
        
        const x = e.touches[0].clientX;
        const diff = startX - x;
        
        if (Math.abs(diff) > 50) {
          if (diff > 0 && currentSection < sections.length - 1) {
            goToSection(currentSection + 1);
          } else if (diff < 0 && currentSection > 0) {
            goToSection(currentSection - 1);
          }
        }
      }, { passive: false });

      // Configura os indicadores para navegação
      indicators.forEach(indicator => {
        indicator.addEventListener('click', function() {
          const sectionIndex = parseInt(this.getAttribute('data-section'));
          goToSection(sectionIndex);
        });
      });

      // Função para ir para uma seção específica
      function goToSection(index) {
        if (index < 0 || index >= sections.length || isScrolling) return;
        
        isScrolling = true;
        currentSection = index;
        
        const translateX = -currentSection * 100;
        container.style.transform = `translateX(${translateX}vw)`;
        
        // Efeito parallax - o background se move mais devagar
        background.style.transform = `translateX(${translateX * parallaxFactor}vw)`;
        
        indicators.forEach((indicator, i) => {
          indicator.classList.toggle('active', i === currentSection);
        });
        
        updateButterflyPosition();
        
        clearTimeout(scrollTimeout);
        scrollTimeout = setTimeout(() => {
          isScrolling = false;
        }, 500);
      }

      // Atualiza a posição da borboleta
      function updateButterflyPosition() {
        const pos = butterflyPositions[currentSection];
        butterfly.style.left = pos.x;
        butterfly.style.top = pos.y;
        butterfly.style.transform = `scale(${pos.scale})`;
      }

      // Teclado - setas esquerda/direita
      document.addEventListener('keydown', function(e) {
        if (isScrolling) return;
        
        if (e.key === 'ArrowRight' && currentSection < sections.length - 1) {
          goToSection(currentSection + 1);
        } else if (e.key === 'ArrowLeft' && currentSection > 0) {
          goToSection(currentSection - 1);
        }
      });

      // Configurações das partículas
      const settings = {
        particleCount: 30,  // Aumentado para mais partículas
        particleSizeMin: 3,
        particleSizeMax: 12,  // Aumentado o tamanho máximo
        animationDurationMin: 10,
        animationDurationMax: 25,  // Aumentado a duração
        colors: ['#4fc3f7', '#89d6ff', '#b6e6ff', '#ffffff']
      };

      // Criar partículas
      function createParticles() {
        particlesContainer.innerHTML = '';
        
        for (let i = 0; i < settings.particleCount; i++) {
          const particle = document.createElement('div');
          particle.classList.add('particle');
          
          const size = Math.random() * 
            (settings.particleSizeMax - settings.particleSizeMin) + settings.particleSizeMin;
          const duration = Math.random() * 
            (settings.animationDurationMax - settings.animationDurationMin) + settings.animationDurationMin;
          const delay = Math.random() * 5;
          const opacity = Math.random() * 0.6 + 0.2;
          const randomX = (Math.random() - 0.5) * 2;
          
          particle.style.setProperty('--random-x', randomX);
          particle.style.width = `${size}px`;
          particle.style.height = `${size}px`;
          particle.style.left = `${Math.random() * 100}vw`;
          particle.style.bottom = `-${size}px`;
          particle.style.animationDuration = `${duration}s`;
          particle.style.animationDelay = `${delay}s`;
          particle.style.opacity = opacity;
          particle.style.background = settings.colors[
            Math.floor(Math.random() * settings.colors.length)
          ];
          
          particlesContainer.appendChild(particle);
        }
      }

      // Interação com o mouse
      function setupMouseInteraction() {
        const sensitivity = 15;
        
        document.addEventListener('mousemove', (e) => {
          const xAxis = (window.innerWidth / 2 - e.pageX) / sensitivity;
          const yAxis = (window.innerHeight / 2 - e.pageY) / sensitivity;
          butterfly.style.transform = `
            scale(${butterflyPositions[currentSection].scale})
            rotateY(${xAxis}deg)
            rotateX(${yAxis}deg)
          `;
        });
        
        document.addEventListener('mouseout', () => {
          butterfly.style.transform = `scale(${butterflyPositions[currentSection].scale})`;
        });
      }

      // Inicializar
      updateButterflyPosition();
      createParticles();
      setupMouseInteraction();
      
      // Atualizar partículas periodicamente
      setInterval(() => {
        createParticles();
      }, 30000);

      // Ajustar ao redimensionamento
      window.addEventListener('resize', () => {
        updateButterflyPosition();
      });
    });
  </script>
</body>
</html>
